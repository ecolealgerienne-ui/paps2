# Dockerfile pour développement avec hot reload
FROM node:20-alpine

# Installer les dépendances système nécessaires
RUN apk add --no-cache openssl

# Créer le répertoire de l'application
WORKDIR /app

# Copier seulement package.json pour installer les dépendances
COPY package*.json ./

# Installer toutes les dépendances (y compris devDependencies pour le dev)
RUN npm install

# Exposer le port de l'API
EXPOSE 3000

# Note: Les sources (src, prisma, etc.) seront montées via volumes
# Le client Prisma sera généré au démarrage du container
